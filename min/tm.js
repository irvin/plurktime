((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;u=$(window).width();t=$(window).height();l=600;g=300;f=null;d=null;r=null;x=15;h=.95;j=.01;b=null;a=null;i=28;k=26;c=null;n=null;q=null;e=null;y=null;m=null;$(function(){var a,b,c;c=$("#entryTmpl").html();m=Handlebars.compile(c);$("form").submit(function(){var a;a=$("input#acct").val().trim();a!==""&&(window.location.hash="#"+a);return!1});$("#aboutbox").click(function(){window.location.hash="close_about";return!1});$(window).on("hashchange",function(){return o()});a=window.location.hash.substr(1).trim();a!==""&&o();b=new Kibo;return b.down("up",function(){return w()}).down("down",function(){return v()})});o=function(){var a;a=window.location.hash.substr(1).trim();if(a==="about_this"){$("#aboutbox").fadeIn();return!1}if(a==="close_about"){$("#aboutbox").fadeOut();window.location.hash="";return!1}$("#aboutbox").css("display")==="block"&&$("#aboutbox").fadeOut();return p(a)};p=function(c){var d;d=[];return $.jGFeed("http://www.plurk.com/"+c+".xml",function(d){var f,l,o,p,u;if(d){$("section").remove();q=d.entries.length;for(p=0;0<=q?p<q:p>q;0<=q?p++:p--){o=d.entries[p];o.content=o.content.substr(o.content.indexOf(" "));f=new Date(o.publishedDate);l=Math.floor((Date.now()-f)/6e4);l<1?o.publishedDate="just now":l<2?o.publishedDate="1 min ago":l<60?o.publishedDate=l+" mins ago":l<120?o.publishedDate="1 hour ago":l<1440?o.publishedDate=Math.floor(l/60)+" hours ago":l<2880?o.publishedDate="1 day ago":l<10080?o.publishedDate=Math.floor(l/1440)+" days ago":o.publishedDate=f.toLocaleString();u=$("<section style='opacity: 0' class='show'>").append(m(o)).appendTo("body")}e=0;b=h;a=(h-j)/15;n=k/i;r=(t-g)/2;c=$("input#acct").val().trim();c!==""&&$("input#acct").blur();return s()}window.location.hash="";return!1},-1)};s=function(){d=g;f=l;b=h;c=i;$("section").not(".show").css("opacity",0);return $("section.show").each(function(e){if(b>0){$(this).css({height:d,width:f,left:(u-f)/2,top:r-e*x*(60-e)/60,"font-size":c+"px",opacity:b,"z-index":q-e});d*=n;f*=n;b>a?b-=a:b=0;c*=n}else $(this).css({opacity:0})})};w=function(){if(e<q-1){$("section").eq(e).removeClass("show");e+=1;return s()}};v=function(){if(e>0){e-=1;$("section").eq(e).addClass("show");return s()}}})).call(this);